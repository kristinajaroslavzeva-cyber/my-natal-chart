from fastapi import FastAPI, HTTPException
from fastapi.middleware.cors import CORSMiddleware
from pydantic import BaseModel
from datetime import datetime
import pytz
import swisseph as swe
import os
import random

app = FastAPI()

app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# --- –ù–ê–°–¢–†–û–ô–ö–ê –ü–£–¢–ï–ô ---
current_dir = os.path.dirname(os.path.abspath(__file__))
ephe_path = os.path.join(current_dir, 'ephe')
swe.set_ephe_path(ephe_path)

# --- –ë–ê–ó–ê –ó–ù–ê–ù–ò–ô (–û–ß–ï–ù–¨ –ü–û–î–†–û–ë–ù–ê–Ø) ---
zodiac_detailed = {
    "Aries": (
        "## ‚ôà –í–∞—à –°–æ–ª–Ω–µ—á–Ω—ã–π –∑–Ω–∞–∫ ‚Äî –û–≤–µ–Ω\n\n"
        "**–û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞:**\n–í—ã ‚Äî –ø–µ—Ä–≤–æ–ø—Ä–æ—Ö–æ–¥–µ—Ü –ó–æ–¥–∏–∞–∫–∞, –∏—Å–∫—Ä–∞, –∏–∑ –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–∑–≥–æ—Ä–∞–µ—Ç—Å—è –ø–ª–∞–º—è. –í–∞—à–∞ —ç–Ω–µ—Ä–≥–∏—è –±–µ–∑–≥—Ä–∞–Ω–∏—á–Ω–∞, –∞ –≤–æ–ª—è —Å–ø–æ—Å–æ–±–Ω–∞ –ø—Ä–æ–±–∏—Ç—å –ª—é–±—ã–µ —Å—Ç–µ–Ω—ã. "
        "–í—ã –Ω–µ –∂–¥–µ—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –º–æ–º–µ–Ω—Ç–∞ ‚Äî –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ –µ–≥–æ —Å–∞–º–∏. –í–∞—à–∞ –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –æ–±–µ–∑–æ—Ä—É–∂–∏–≤–∞—Ç—å, –∞ —Å–º–µ–ª–æ—Å—Ç—å –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç –æ–∫—Ä—É–∂–∞—é—â–∏—Ö.\n\n"
        "**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**\n–ù–µ–∏—Å—Å—è–∫–∞–µ–º—ã–π –æ–ø—Ç–∏–º–∏–∑–º, –ª–∏–¥–µ—Ä—Å–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞, —É–º–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è. –í—ã —á–µ—Å—Ç–Ω—ã –∏ –Ω–µ –¥–µ—Ä–∂–∏—Ç–µ –∫–∞–º–Ω—è –∑–∞ –ø–∞–∑—É—Ö–æ–π. "
        "–¢–∞–º, –≥–¥–µ –¥—Ä—É–≥–∏–µ –∫–æ–ª–µ–±–ª—é—Ç—Å—è, –≤—ã –¥–µ–π—Å—Ç–≤—É–µ—Ç–µ.\n\n"
        "**–ö–∞—Ä–º–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞:**\n–ù–∞—É—á–∏—Ç—å—Å—è —Ç–µ—Ä–ø–µ–Ω–∏—é –∏ –¥–æ–≤–æ–¥–∏—Ç—å –Ω–∞—á–∞—Ç–æ–µ –¥–æ –∫–æ–Ω—Ü–∞. –í–∞—à–∞ –≥–ª–∞–≤–Ω–∞—è —Å–∏–ª–∞ ‚Äî –≤ —É–º–µ–Ω–∏–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –æ–≥–Ω–µ–º, –Ω–µ –æ–±–∂–∏–≥–∞—è –±–ª–∏–∑–∫–∏—Ö."
    ),
    "Taurus": (
        "## ‚ôâ –í–∞—à –°–æ–ª–Ω–µ—á–Ω—ã–π –∑–Ω–∞–∫ ‚Äî –¢–µ–ª–µ—Ü\n\n"
        "**–û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞:**\n–í—ã ‚Äî –≤–æ–ø–ª–æ—â–µ–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ —Å–æ–∑–∏–¥–∞—Ç–µ–ª—å–Ω–æ–π —Å–∏–ª—ã –ó–µ–º–ª–∏. –í—ã —É–º–µ–µ—Ç–µ –≤–∏–¥–µ—Ç—å –∫—Ä–∞—Å–æ—Ç—É –≤ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–º –º–∏—Ä–µ –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–æ–∫—Ä—É–≥ —Å–µ–±—è –∫–æ–º—Ñ–æ—Ä—Ç. "
        "–í–∞—à–µ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –ø–æ–¥–æ–±–Ω–æ —Å–∫–∞–ª–µ, –æ –∫–æ—Ç–æ—Ä—É—é —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –ª—é–±—ã–µ —à—Ç–æ—Ä–º—ã. –í—ã –Ω–∏–∫—É–¥–∞ –Ω–µ —Å–ø–µ—à–∏—Ç–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–Ω–∞–µ—Ç–µ: –≤—Å—ë –ª—É—á—à–µ–µ —Ç—Ä–µ–±—É–µ—Ç –≤—Ä–µ–º–µ–Ω–∏.\n\n"
        "**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**\n–ü–æ—Ç—Ä—è—Å–∞—é—â–µ–µ —Ç–µ—Ä–ø–µ–Ω–∏–µ, –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å, –≤–µ—Ä–Ω–æ—Å—Ç—å —Å–ª–æ–≤—É –∏ –¥–µ–ª—É. –£ –≤–∞—Å –µ—Å—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–∞—Ä ‚Äî –ø—Ä–∏—É–º–Ω–æ–∂–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ–µ. "
        "–í—ã ‚Äî —Ç–æ—Ç —Å–∞–º—ã–π —á–µ–ª–æ–≤–µ–∫, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –ø–æ–ª–æ–∂–∏—Ç—å—Å—è.\n\n"
        "**–ö–∞—Ä–º–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞:**\n–ü—Ä–µ–æ–¥–æ–ª–µ—Ç—å —Å—Ç—Ä–∞—Ö –ø–µ—Ä–µ–º–µ–Ω. –í–∞—à–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –¥–∞—Ä, –Ω–æ –∏–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–∑–≤–æ–ª–∏—Ç—å –∂–∏–∑–Ω–∏ —Ç–µ—á—å —Å–≤–æ–±–æ–¥–Ω–æ, –Ω–µ —Ü–µ–ø–ª—è—è—Å—å –∑–∞ –ø—Ä–∏–≤—ã—á–Ω–æ–µ."
    ),
    "Gemini": (
        "## ‚ôä –í–∞—à –°–æ–ª–Ω–µ—á–Ω—ã–π –∑–Ω–∞–∫ ‚Äî –ë–ª–∏–∑–Ω–µ—Ü—ã\n\n"
        "**–û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞:**\n–í—ã ‚Äî –≤–µ—á–Ω—ã–π —É—á–µ–Ω–∏–∫ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ç–æ—Ä –í—Å–µ–ª–µ–Ω–Ω–æ–π. –í–∞—à–∞ —Å—Ç–∏—Ö–∏—è ‚Äî –í–æ–∑–¥—É—Ö, –∏ –≤—ã —Ç–∞–∫ –∂–µ –ª–µ–≥–∫–∏, –ø–µ—Ä–µ–º–µ–Ω—á–∏–≤—ã –∏ –≤–µ–∑–¥–µ—Å—É—â–∏. "
        "–í–∞—à —Ä–∞–∑—É–º —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –º–æ–ª–Ω–∏–∏, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—è –≥–∏–≥–∞–±–∞–π—Ç—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É. –° –≤–∞–º–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–≤–∞–µ—Ç —Å–∫—É—á–Ω–æ.\n\n"
        "**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**\n–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å, –æ—Å—Ç—Ä–æ—É–º–∏–µ, –¥–∞—Ä —Å–ª–æ–≤–∞. –í—ã —Å–ø–æ—Å–æ–±–Ω—ã –Ω–∞–π—Ç–∏ –æ–±—â–∏–π —è–∑—ã–∫ —Å –∫–æ—Ä–æ–ª–µ–º –∏ –Ω–∏—â–∏–º, –ø–æ–Ω—è—Ç—å —Å–ª–æ–∂–Ω—É—é –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –∑–∞ –º–∏–Ω—É—Ç—É –∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É.\n\n"
        "**–ö–∞—Ä–º–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞:**\n–û–±—Ä–µ—Å—Ç–∏ –≥–ª—É–±–∏–Ω—É –∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—é. –í–∞—à –≤—ã–∑–æ–≤ ‚Äî –Ω–µ —Ä–∞—Å–ø—ã–ª—è—Ç—å—Å—è –Ω–∞ —Ç—ã—Å—è—á—É –¥–µ–ª, –∞ –Ω–∞–π—Ç–∏ —Ç—É —Å–∞–º—É—é –∏—Å—Ç–∏–Ω—É, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ä–µ–¥–∏–Ω–∏—Ç –≤—Å–µ –≤–∞—à–∏ –∑–Ω–∞–Ω–∏—è."
    ),
    "Cancer": (
        "## ‚ôã –í–∞—à –°–æ–ª–Ω–µ—á–Ω—ã–π –∑–Ω–∞–∫ ‚Äî –†–∞–∫\n\n"
        "**–û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞:**\n–í—ã –∂–∏–≤–µ—Ç–µ –≤ —Ä–∏—Ç–º–µ –õ—É–Ω—ã, —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –ø—Ä–∏–ª–∏–≤–∞–º–∏ –∏ –æ—Ç–ª–∏–≤–∞–º–∏ —ç–º–æ—Ü–∏–π. –í–∞—à–∞ –¥—É—à–∞ ‚Äî –≥–ª—É–±–æ–∫–∏–π –æ–∫–µ–∞–Ω. –í—ã –æ–±–ª–∞–¥–∞–µ—Ç–µ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–π —ç–º–ø–∞—Ç–∏–µ–π "
        "–∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ª—é–¥–µ–π. –î–ª—è –≤–∞—Å –Ω–µ—Ç –Ω–∏—á–µ–≥–æ –≤–∞–∂–Ω–µ–µ –¥–æ–º–∞, —Å–µ–º—å–∏ –∏ —á—É–≤—Å—Ç–≤–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.\n\n"
        "**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**\n–ó–∞–±–æ—Ç–∞, —Ä–∞–∑–≤–∏—Ç–∞—è –∏–Ω—Ç—É–∏—Ü–∏—è, —É–º–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—å —Ç–∞–π–Ω—ã –∏ –∑–∞—â–∏—â–∞—Ç—å —Ç–µ—Ö, –∫–æ–≥–æ –ª—é–±–∏—Ç–µ. –í—ã ‚Äî —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —è–∫–æ—Ä—å –¥–ª—è —Å–≤–æ–∏—Ö –±–ª–∏–∑–∫–∏—Ö, —Å–ø–æ—Å–æ–±–Ω—ã–π –∏—Å—Ü–µ–ª—è—Ç—å –¥—É—à–µ–≤–Ω—ã–µ —Ä–∞–Ω—ã.\n\n"
        "**–ö–∞—Ä–º–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞:**\n–ù–∞—É—á–∏—Ç—å—Å—è –æ—Ç–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ—à–ª–æ–µ –∏ –Ω–µ –ø—Ä—è—Ç–∞—Ç—å—Å—è –≤ –ø–∞–Ω—Ü–∏—Ä—å –ø—Ä–∏ –ø–µ—Ä–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–∞—Ö –±—É—Ä–∏. –í–∞—à–∞ —Å–∏–ª–∞ ‚Äî –≤ –≤–∞—à–µ–π —É—è–∑–≤–∏–º–æ—Å—Ç–∏."
    ),
    "Leo": (
        "## ‚ôå –í–∞—à –°–æ–ª–Ω–µ—á–Ω—ã–π –∑–Ω–∞–∫ ‚Äî –õ–µ–≤\n\n"
        "**–û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞:**\n–í—ã ‚Äî –°–æ–ª–Ω—Ü–µ, –≤–æ–∫—Ä—É–≥ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—Ä–∞—â–∞—é—Ç—Å—è –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–ª–∞–Ω–µ—Ç—ã. –í—ã —Ä–æ–∂–¥–µ–Ω—ã, —á—Ç–æ–±—ã —Ç–≤–æ—Ä–∏—Ç—å, –ª—é–±–∏—Ç—å –∏ –±—ã—Ç—å –∑–∞–º–µ—á–µ–Ω–Ω—ã–º. "
        "–í–∞—à–∞ —â–µ–¥—Ä–æ—Å—Ç—å –Ω–µ –∑–Ω–∞–µ—Ç –≥—Ä–∞–Ω–∏—Ü, –∞ –±–ª–∞–≥–æ—Ä–æ–¥—Å—Ç–≤–æ ‚Äî –≤–∞—à–∞ –≤—Ç–æ—Ä–∞—è –Ω–∞—Ç—É—Ä–∞. –í—ã –∂–∏–≤–µ—Ç–µ —Å–µ—Ä–¥—Ü–µ–º –∏ —Ç—Ä–µ–±—É–µ—Ç–µ –æ—Ç –∂–∏–∑–Ω–∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞.\n\n"
        "**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**\n–•–∞—Ä–∏–∑–º–∞, —Ç–≤–æ—Ä—á–µ—Å–∫–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Å–µ–±–µ. –í—ã —É–º–µ–µ—Ç–µ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –ª—é–¥–µ–π –∏ –≤–µ—Å—Ç–∏ –∏—Ö –∑–∞ —Å–æ–±–æ–π –Ω–µ —Å–∏–ª–æ–π, –∞ —Å–≤–µ—Ç–æ–º —Å–≤–æ–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞.\n\n"
        "**–ö–∞—Ä–º–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞:**\n–ü–æ–±–µ–¥–∏—Ç—å –≥–æ—Ä–¥—ã–Ω—é –∏ –Ω–∞—É—á–∏—Ç—å—Å—è —Å–ª—É–∂–∏—Ç—å –¥—Ä—É–≥–∏–º. –ò—Å—Ç–∏–Ω–Ω—ã–π –ö–æ—Ä–æ–ª—å ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ—Ç, –∫–æ–º—É —Å–ª—É–∂–∞—Ç, –∞ —Ç–æ—Ç, –∫—Ç–æ –∑–∞–±–æ—Ç–∏—Ç—Å—è –æ —Å–≤–æ–µ–º –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–µ."
    ),
    "Virgo": (
        "## ‚ôç –í–∞—à –°–æ–ª–Ω–µ—á–Ω—ã–π –∑–Ω–∞–∫ ‚Äî –î–µ–≤–∞\n\n"
        "**–û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞:**\n–í—ã –≤–∏–¥–∏—Ç–µ —ç—Ç–æ—Ç –º–∏—Ä —á–µ—Ä–µ–∑ –ø—Ä–∏–∑–º—É –¥–µ—Ç–∞–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–∑–∞–º–µ—Ç–Ω—ã –¥—Ä—É–≥–∏–º. –í–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ‚Äî –±–µ–∑—É–ø—Ä–µ—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑. "
        "–í—ã —Å—Ç—Ä–µ–º–∏—Ç–µ—Å—å –∫ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É –≤–æ –≤—Å–µ–º, –æ—Ç –ø–æ—Ä—è–¥–∫–∞ –Ω–∞ —Å—Ç–æ–ª–µ –¥–æ —á–∏—Å—Ç–æ—Ç—ã –ø–æ–º—ã—Å–ª–æ–≤. –í—ã ‚Äî –≥–ª–∞–≤–Ω—ã–π —Ü–µ–ª–∏—Ç–µ–ª—å –∏ –ø–æ–º–æ—â–Ω–∏–∫ –ó–æ–¥–∏–∞–∫–∞.\n\n"
        "**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**\n–¢—Ä—É–¥–æ–ª—é–±–∏–µ, —Å–∫—Ä–æ–º–Ω–æ—Å—Ç—å, –æ—Å—Ç—Ä—ã–π —É–º –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å. –ù–∏–∫—Ç–æ –Ω–µ —Å–ø—Ä–∞–≤–∏—Ç—Å—è —Å–æ —Å–ª–æ–∂–Ω–æ–π, –∫—Ä–æ–ø–æ—Ç–ª–∏–≤–æ–π –∑–∞–¥–∞—á–µ–π –ª—É—á—à–µ –≤–∞—Å.\n\n"
        "**–ö–∞—Ä–º–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞:**\n–ü–µ—Ä–µ—Å—Ç–∞—Ç—å –∫—Ä–∏—Ç–∏–∫–æ–≤–∞—Ç—å —Å–µ–±—è –∏ –º–∏—Ä. –ü—Ä–∏–º–∏—Ç–µ –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ –∂–∏–∑–Ω–∏ ‚Äî –≤ —ç—Ç–æ–º —Ç–æ–∂–µ –µ—Å—Ç—å —Å–≤–æ—è –∫—Ä–∞—Å–æ—Ç–∞. –ü–æ–∑–≤–æ–ª—å—Ç–µ —Å–µ–±–µ –∏–Ω–æ–≥–¥–∞ –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ —Å—á–∞—Å—Ç–ª–∏–≤—ã–º, –∞ –Ω–µ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã–º."
    ),
    "Libra": (
        "## ‚ôé –í–∞—à –°–æ–ª–Ω–µ—á–Ω—ã–π –∑–Ω–∞–∫ ‚Äî –í–µ—Å—ã\n\n"
        "**–û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞:**\n–í—ã ‚Äî –º–∞—Å—Ç–µ—Ä —Ä–∞–≤–Ω–æ–≤–µ—Å–∏—è –∏ –¥–∏–ø–ª–æ–º–∞—Ç–∏–∏. –í–∞—à–∞ –º–∏—Å—Å–∏—è ‚Äî –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –≤ —ç—Ç–æ—Ç –º–∏—Ä –≥–∞—Ä–º–æ–Ω–∏—é –∏ –∫—Ä–∞—Å–æ—Ç—É. –í—ã –Ω–µ –≤—ã–Ω–æ—Å–∏—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –≤—Å–µ–≥–¥–∞ –∏—â–µ—Ç–µ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å. "
        "–ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ –¥–ª—è –≤–∞—Å ‚Äî –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è.\n\n"
        "**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**\n–ò–∑—ã—Å–∫–∞–Ω–Ω—ã–π –≤–∫—É—Å, —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å, –æ–±–∞—è–Ω–∏–µ –∏ —Ç–∞–∫—Ç. –í—ã —É–º–µ–µ—Ç–µ –≤–∏–¥–µ—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é —Å —Ä–∞–∑–Ω—ã—Ö —Å—Ç–æ—Ä–æ–Ω –∏ –ø—Ä–∏–º–∏—Ä—è—Ç—å –Ω–µ–ø—Ä–∏–º–∏—Ä–∏–º–æ–µ.\n\n"
        "**–ö–∞—Ä–º–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞:**\n–û–±—Ä–µ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å—Ç–µ—Ä–∂–µ–Ω—å –∏ –Ω–∞—É—á–∏—Ç—å—Å—è –≥–æ–≤–æ—Ä–∏—Ç—å ¬´–Ω–µ—Ç¬ª. –ù–µ —Ç–µ—Ä—è–π—Ç–µ —Å–µ–±—è –≤ –ø–æ–ø—ã—Ç–∫–∞—Ö —É–≥–æ–¥–∏—Ç—å –¥—Ä—É–≥–∏–º. –ò—Å—Ç–∏–Ω–Ω–∞—è –≥–∞—Ä–º–æ–Ω–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –≤–∞—Å."
    ),
    "Scorpio": (
        "## ‚ôè –í–∞—à –°–æ–ª–Ω–µ—á–Ω—ã–π –∑–Ω–∞–∫ ‚Äî –°–∫–æ—Ä–ø–∏–æ–Ω\n\n"
        "**–û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞:**\n–í—ã ‚Äî —Å–∞–º—ã–π –∑–∞–≥–∞–¥–æ—á–Ω—ã–π –∏ –º–æ—â–Ω—ã–π –∑–Ω–∞–∫ –ó–æ–¥–∏–∞–∫–∞. –í–∞—à –≤–∑–≥–ª—è–¥ –ø—Ä–æ–Ω–∏–∫–∞–µ—Ç –≤ –¥—É—à—É. –í—ã –Ω–µ –±–æ–∏—Ç–µ—Å—å –∫—Ä–∏–∑–∏—Å–æ–≤, –±–æ–ª–∏ –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–Ω–∞–µ—Ç–µ: "
        "—á—Ç–æ–±—ã —Ä–æ–¥–∏—Ç—å—Å—è –∑–∞–Ω–æ–≤–æ, –Ω—É–∂–Ω–æ —Å–≥–æ—Ä–µ—Ç—å –¥–æ—Ç–ª–∞. –í—ã –æ–±–ª–∞–¥–∞–µ—Ç–µ –æ–≥—Ä–æ–º–Ω–æ–π —Å–∫—Ä—ã—Ç–æ–π —Å–∏–ª–æ–π.\n\n"
        "**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**\n–ú–∞–≥–Ω–µ—Ç–∏–∑–º, –Ω–µ—Å–≥–∏–±–∞–µ–º–∞—è –≤–æ–ª—è, –≥–ª—É–±–æ–∫–∞—è –∏–Ω—Ç—É–∏—Ü–∏—è. –í—ã ‚Äî –≤–µ—Ä–Ω—ã–π –¥—Ä—É–≥ –∏ –æ–ø–∞—Å–Ω—ã–π –≤—Ä–∞–≥. –í—ã –∏–¥–µ—Ç–µ –¥–æ –∫–æ–Ω—Ü–∞ –≤–æ –≤—Å–µ–º, –∑–∞ —á—Ç–æ –±–µ—Ä–µ—Ç–µ—Å—å.\n\n"
        "**–ö–∞—Ä–º–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞:**\n–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ —Å—Ç—Ä–∞—Å—Ç–∏ –≤ –¥—É—Ö–æ–≤–Ω—É—é —Å–∏–ª—É. –ù–∞—É—á–∏—Ç—å—Å—è –¥–æ–≤–µ—Ä—è—Ç—å –º–∏—Ä—É –∏ –ø—Ä–æ—â–∞—Ç—å, –Ω–µ –¥–µ—Ä–∂–∞ —è–¥ –æ–±–∏–¥—ã –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è."
    ),
    "Sagittarius": (
        "## ‚ôê –í–∞—à –°–æ–ª–Ω–µ—á–Ω—ã–π –∑–Ω–∞–∫ ‚Äî –°—Ç—Ä–µ–ª–µ—Ü\n\n"
        "**–û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞:**\n–í—ã ‚Äî –≤–µ—á–Ω—ã–π –∏—Å–∫–∞—Ç–µ–ª—å –∏—Å—Ç–∏–Ω—ã –∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫. –í–∞—à–∏ —Å—Ç—Ä–µ–ª—ã –≤—Å–µ–≥–¥–∞ –ª–µ—Ç—è—Ç –≤—ã—Å–æ–∫–æ –≤ –Ω–µ–±–æ. –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∂–∏—Ç—å –±–µ–∑ —Ü–µ–ª–∏, —Å–º—ã—Å–ª–∞ –∏ –Ω–æ–≤—ã—Ö –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–≤. "
        "–í–∞—à –æ–ø—Ç–∏–º–∏–∑–º –∑–∞—Ä–∞–∑–∏—Ç–µ–ª–µ–Ω, –∞ –º—É–¥—Ä–æ—Å—Ç—å –ø–æ–º–æ–≥–∞–µ—Ç –¥—Ä—É–≥–∏–º –Ω–∞–π—Ç–∏ —Å–≤–æ–π –ø—É—Ç—å.\n\n"
        "**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**\n–®–∏—Ä–æ—Ç–∞ –≤–∑–≥–ª—è–¥–æ–≤, —â–µ–¥—Ä–æ—Å—Ç—å, —ç–Ω—Ç—É–∑–∏–∞–∑–º. –í—ã ‚Äî —É—á–∏—Ç–µ–ª—å –∏ —Ñ–∏–ª–æ—Å–æ—Ñ, –∫–æ—Ç–æ—Ä—ã–π –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏—Ç ¬´–±–æ–ª—å—à—É—é –∫–∞—Ä—Ç–∏–Ω—É¬ª.\n\n"
        "**–ö–∞—Ä–º–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞:**\n–ù–∞—É—á–∏—Ç—å—Å—è —Ç–∞–∫—Ç—É –∏ –≤–Ω–∏–º–∞–Ω–∏—é –∫ –¥–µ—Ç–∞–ª—è–º. –ò–Ω–æ–≥–¥–∞ –≤ –ø–æ–≥–æ–Ω–µ –∑–∞ –¥–∞–ª–µ–∫–∏–º–∏ –∏–¥–µ–∞–ª–∞–º–∏ –≤—ã –Ω–µ –∑–∞–º–µ—á–∞–µ—Ç–µ —Ç–æ–≥–æ, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø—Ä—è–º–æ —É –≤–∞—Å –ø–æ–¥ –Ω–æ–≥–∞–º–∏."
    ),
    "Capricorn": (
        "## ‚ôë –í–∞—à –°–æ–ª–Ω–µ—á–Ω—ã–π –∑–Ω–∞–∫ ‚Äî –ö–æ–∑–µ—Ä–æ–≥\n\n"
        "**–û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞:**\n–í—ã ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä —Å–≤–æ–µ–π —Å—É–¥—å–±—ã. –ü–æ–∫–∞ –¥—Ä—É–≥–∏–µ –º–µ—á—Ç–∞—é—Ç, –≤—ã —Å—Ç—Ä–æ–∏—Ç–µ. –í—ã –æ–±–ª–∞–¥–∞–µ—Ç–µ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–π —Å–∞–º–æ–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–æ–π –∏ –∞–º–±–∏—Ü–∏—è–º–∏. "
        "–í—Ä–µ–º—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤–∞—Å: —Å –≥–æ–¥–∞–º–∏ –≤—ã —Å—Ç–∞–Ω–æ–≤–∏—Ç–µ—Å—å —Ç–æ–ª—å–∫–æ —Å–∏–ª—å–Ω–µ–µ, –º—É–¥—Ä–µ–µ –∏ —É—Å–ø–µ—à–Ω–µ–µ.\n\n"
        "**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**\n–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ, —É–ø–æ—Ä—Å—Ç–≤–æ. –í—ã —Å–ø–æ—Å–æ–±–Ω—ã –≤—ã–Ω–µ—Å—Ç–∏ –ª—é–±—ã–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –∏ –¥–æ—Å—Ç–∏—á—å –≤–µ—Ä—à–∏–Ω—ã, –∫–æ—Ç–æ—Ä–∞—è –¥—Ä—É–≥–∏–º –∫–∞–∂–µ—Ç—Å—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–π.\n\n"
        "**–ö–∞—Ä–º–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞:**\n–û—Ç–∫—Ä—ã—Ç—å —Å–≤–æ–µ —Å–µ—Ä–¥—Ü–µ. –ù–µ –ø–æ–∑–≤–æ–ª—è–π—Ç–µ —Ä–∞–±–æ—Ç–µ –∏ –¥–æ–ª–≥—É –∑–∞—Å—É—à–∏—Ç—å –≤–∞—à–∏ —á—É–≤—Å—Ç–≤–∞. –ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ –ª—é–±–æ–≤—å –∏ —Ä–∞–¥–æ—Å—Ç—å ‚Äî —ç—Ç–æ —Ç–æ–∂–µ –≤–∞–∂–Ω—ã–µ –≤–µ—Ä—à–∏–Ω—ã."
    ),
    "Aquarius": (
        "## ‚ôí –í–∞—à –°–æ–ª–Ω–µ—á–Ω—ã–π –∑–Ω–∞–∫ ‚Äî –í–æ–¥–æ–ª–µ–π\n\n"
        "**–û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞:**\n–í—ã ‚Äî –≥–æ—Å—Ç—å –∏–∑ –±—É–¥—É—â–µ–≥–æ. –í–∞—à–µ –º—ã—à–ª–µ–Ω–∏–µ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ, –≤—ã —Ü–µ–Ω–∏—Ç–µ —Å–≤–æ–±–æ–¥—É –ø—Ä–µ–≤—ã—à–µ –≤—Å–µ–≥–æ. –í—ã ‚Äî –±—É–Ω—Ç–∞—Ä—å –∏ –≥—É–º–∞–Ω–∏—Å—Ç, –º–µ—á—Ç–∞—é—â–∏–π —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ—Ç –º–∏—Ä –ª—É—á—à–µ. "
        "–í—ã –¥—Ä—É–∂–∏—Ç–µ —Å–æ –≤—Å–µ–º —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–æ–º, –Ω–æ –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–µ—Ç–µ—Å—å –Ω–µ–º–Ω–æ–≥–æ ¬´–∫–æ—à–∫–æ–π, –∫–æ—Ç–æ—Ä–∞—è –≥—É–ª—è–µ—Ç —Å–∞–º–∞ –ø–æ —Å–µ–±–µ¬ª.\n\n"
        "**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**\n–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –∏–∑–æ–±—Ä–µ—Ç–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –í—ã –≤–∏–¥–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ç–∞–º, –≥–¥–µ –¥—Ä—É–≥–∏–µ –≤–∏–¥—è—Ç —Ç—É–ø–∏–∫.\n\n"
        "**–ö–∞—Ä–º–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞:**\n–°–æ–µ–¥–∏–Ω–∏—Ç—å —Å–≤–æ—é –≥–µ–Ω–∏–∞–ª—å–Ω–æ—Å—Ç—å —Å —Ç–µ–ø–ª–æ—Ç–æ–π —Å–µ—Ä–¥—Ü–∞. –ù–µ –ø—Ä–µ–≤—Ä–∞—â–∞–π—Ç–µ—Å—å –≤ —Ö–æ–ª–æ–¥–Ω–æ–≥–æ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è ‚Äî —Å–ø—É—Å—Ç–∏—Ç–µ—Å—å —Å –Ω–µ–±–µ—Å –Ω–∞ –∑–µ–º–ª—é –∏ –ø–æ–¥–∞—Ä–∏—Ç–µ —Å–≤–æ–µ —Ç–µ–ø–ª–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –ª—é–¥—è–º."
    ),
    "Pisces": (
        "## ‚ôì –í–∞—à –°–æ–ª–Ω–µ—á–Ω—ã–π –∑–Ω–∞–∫ ‚Äî –†—ã–±—ã\n\n"
        "**–û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞:**\n–í—ã –∑–∞–º—ã–∫–∞–µ—Ç–µ –∑–æ–¥–∏–∞–∫–∞–ª—å–Ω—ã–π –∫—Ä—É–≥, –æ–±—ä–µ–¥–∏–Ω—è—è –≤ —Å–µ–±–µ —á–µ—Ä—Ç—ã –≤—Å–µ—Ö –∑–Ω–∞–∫–æ–≤. –í—ã –∂–∏–≤–µ—Ç–µ –≤ –º–∏—Ä–µ –≥—Ä–µ–∑, –º—É–∑—ã–∫–∏ –∏ –∏–Ω—Ç—É–∏—Ü–∏–∏. "
        "–í–∞—à–∞ –¥—É—à–∞ —Ç–æ–Ω–∫–∞ –∏ –ø—Ä–æ–Ω–∏—Ü–∞—Ç–µ–ª—å–Ω–∞, –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —á—É–∂—É—é –±–æ–ª—å –∫–∞–∫ —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é.\n\n"
        "**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**\n–ë–æ–≥–∞—Ç–æ–µ –≤–æ–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –º–∏–ª–æ—Å–µ—Ä–¥–∏–µ, –¥—É—Ö–æ–≤–Ω–æ—Å—Ç—å. –í—ã —Å–ø–æ—Å–æ–±–Ω—ã –Ω–∞ –±–µ–∑—É—Å–ª–æ–≤–Ω—É—é –ª—é–±–æ–≤—å –∏ –æ–±–ª–∞–¥–∞–µ—Ç–µ —Ç–∞–ª–∞–Ω—Ç–∞–º–∏ –≤ –∏—Å–∫—É—Å—Å—Ç–≤–µ.\n\n"
        "**–ö–∞—Ä–º–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞:**\n–ù–µ —Ç–µ—Ä—è—Ç—å —Å–≤—è–∑—å —Å —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –Ω–µ —É–±–µ–≥–∞—Ç—å –≤ –º–∏—Ä –∏–ª–ª—é–∑–∏–π, –∞ –ø—Ä–∏–≤–Ω–æ—Å–∏—Ç—å –º–∞–≥–∏—é –∏ –¥—É—Ö–æ–≤–Ω–æ—Å—Ç—å –≤ —ç—Ç–æ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–π –º–∏—Ä."
    )
}

# --- –ì–ï–ù–ï–†–ê–¢–û–† –ì–û–†–û–°–ö–û–ü–ê ---
daily_intros = [
    "–°–µ–≥–æ–¥–Ω—è –∑–≤–µ–∑–¥—ã —Å–æ–≤–µ—Ç—É—é—Ç –≤–∞–º –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å–≤–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–∏—Ä.",
    "–≠—Ç–æ—Ç –¥–µ–Ω—å –Ω–∞–ø–æ–ª–Ω–µ–Ω –º–æ—â–Ω–æ–π —ç–Ω–µ—Ä–≥–∏–µ–π —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏.",
    "–û—Ç–ª–∏—á–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –Ω–∞—á–∏–Ω–∞–Ω–∏–π –∏ —Å–º–µ–ª—ã—Ö —Ä–µ—à–µ–Ω–∏–π.",
    "–°–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å —Ç—Ä–µ–±—É–µ—Ç –æ—Ç –≤–∞—Å —Ç–µ—Ä–ø–µ–Ω–∏—è –∏ –≤–∑–≤–µ—à–µ–Ω–Ω—ã—Ö –ø–æ—Å—Ç—É–ø–∫–æ–≤.",
    "–í—Å–µ–ª–µ–Ω–Ω–∞—è —Å–µ–≥–æ–¥–Ω—è –Ω–∞ –≤–∞—à–µ–π —Å—Ç–æ—Ä–æ–Ω–µ, –ª–æ–≤–∏—Ç–µ –º–æ–º–µ–Ω—Ç!"
]
daily_love = [
    "–í –ª–∏—á–Ω–æ–π –∂–∏–∑–Ω–∏ –≤–æ–∑–º–æ–∂–Ω—ã –ø—Ä–∏—è—Ç–Ω—ã–µ —Å—é—Ä–ø—Ä–∏–∑—ã. –ë—É–¥—å—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã –Ω–æ–≤–æ–º—É.",
    "–í –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö —Ü–∞—Ä–∏—Ç –≥–∞—Ä–º–æ–Ω–∏—è, —É–¥–µ–ª–∏—Ç–µ –≤—Ä–µ–º—è –ø–∞—Ä—Ç–Ω–µ—Ä—É.",
    "–í–æ–∑–º–æ–∂–Ω–∞ –≤–∞–∂–Ω–∞—è –≤—Å—Ç—Ä–µ—á–∞, –∫–æ—Ç–æ—Ä–∞—è –∏–∑–º–µ–Ω–∏—Ç –≤–∞—à–µ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ –ª—é–±–≤–∏.",
    "–ù–µ –±–æ–π—Ç–µ—Å—å –≥–æ–≤–æ—Ä–∏—Ç—å –æ —Å–≤–æ–∏—Ö —á—É–≤—Å—Ç–≤–∞—Ö ‚Äî —Å–µ–≥–æ–¥–Ω—è –≤–∞—Å —É—Å–ª—ã—à–∞—Ç."
]
daily_career = [
    "–ù–∞ —Ä–∞–±–æ—Ç–µ –ø—Ä–æ—è–≤–∏—Ç–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É ‚Äî —ç—Ç–æ –∑–∞–º–µ—Ç—è—Ç.",
    "–í –¥–µ–ª–∞—Ö –ª—É—á—à–µ –≤–∑—è—Ç—å –ø–∞—É–∑—É –∏ –≤—Å–µ –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∏—Ç—å.",
    "–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã —Ä–µ—à–∞—Ç—Å—è –≤ –≤–∞—à—É –ø–æ–ª—å–∑—É, –µ—Å–ª–∏ –≤—ã –ø—Ä–æ—è–≤–∏—Ç–µ –Ω–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å.",
    "–û—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–≤."
]

class BirthData(BaseModel):
    birthDateTime: str
    latitude: float
    longitude: float
    zoneId: str

def get_sign(longitude):
    signs = ["Aries", "Taurus", "Gemini", "Cancer", "Leo", "Virgo", 
             "Libra", "Scorpio", "Sagittarius", "Capricorn", "Aquarius", "Pisces"]
    idx = int(longitude / 30)
    return signs[idx % 12]

@app.post("/calculate")
async def calculate_chart(data: BirthData):
    try:
        local_dt = datetime.fromisoformat(data.birthDateTime)
        try:
            tz = pytz.timezone(data.zoneId)
            if local_dt.tzinfo is None:
                local_dt = tz.localize(local_dt)
        except:
            local_dt = local_dt.replace(tzinfo=pytz.UTC)
        
        utc_dt = local_dt.astimezone(pytz.utc)
        julian_day = swe.julday(utc_dt.year, utc_dt.month, utc_dt.day, 
                                utc_dt.hour + utc_dt.minute/60.0 + utc_dt.second/3600.0)

        calc_flag = swe.FLG_SWIEPH | swe.FLG_SPEED
        try:
            swe.calc_ut(julian_day, swe.SUN, calc_flag)
        except swe.Error:
            calc_flag = swe.FLG_MOSEPH | swe.FLG_SPEED

        bodies = {
            "Sun": swe.SUN, "Moon": swe.MOON, "Mercury": swe.MERCURY, 
            "Venus": swe.VENUS, "Mars": swe.MARS, "Jupiter": swe.JUPITER, 
            "Saturn": swe.SATURN, "Uranus": swe.URANUS, "Neptune": swe.NEPTUNE, 
            "Pluto": swe.PLUTO, "Chiron": swe.CHIRON, 
            "True Node": swe.TRUE_NODE, "Lilith": swe.MEAN_APOG
        }

        planets_result = []
        for name, pid in bodies.items():
            try:
                res = swe.calc_ut(julian_day, pid, calc_flag)
                coords = res[0]
                if not coords or len(coords) < 1: continue
                lon = coords[0]
                speed = coords[3] if len(coords) >= 4 else 0.0
                planets_result.append({
                    "name": name,
                    "eclipticLongitude": lon,
                    "sign": get_sign(lon),
                    "signDegree": lon % 30,
                    "isRetrograde": speed < 0
                })
            except: continue

        try:
            cusps, ascmc = swe.houses(julian_day, data.latitude, data.longitude, b'P')
            houses_result = []
            if len(cusps) >= 13:
                for i in range(1, 13):
                    h_lon = cusps[i]
                    houses_result.append({
                        "houseNumber": i,
                        "eclipticLongitude": h_lon,
                        "sign": get_sign(h_lon),
                        "signDegree": h_lon % 30
                    })
            asc = ascmc[0] if ascmc and len(ascmc) >= 1 else 0.0
            mc = ascmc[1] if ascmc and len(ascmc) >= 2 else 0.0
            angles = {"Ascendant": asc, "MC": mc}
        except:
             houses_result = []
             angles = {"Ascendant": 0.0, "MC": 0.0}

        return {"planets": planets_result, "houses": houses_result, "angles": angles}

    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))

@app.post("/interpret")
async def interpret(request: dict):
    # –£–º–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è: –∏—â–µ–º –°–æ–ª–Ω—Ü–µ –≤ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ç–¥–∞–µ–º –±–æ–ª—å—à–æ–π —Ç–µ–∫—Å—Ç
    try:
        chart = request.get('chart', request)
        planets = chart.get('planets', [])
        sun_sign = "Unknown"
        for p in planets:
            if p.get('name') == 'Sun':
                sun_sign = p.get('sign')
                break
        
        # –ë–µ—Ä–µ–º –¥–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
        text = zodiac_detailed.get(sun_sign, "–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –∫–∞—Ä—Ç—É. (–ó–Ω–∞–∫ –°–æ–ª–Ω—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω).")
        return text 

    except Exception as e:
        return f"–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞: {str(e)}"

@app.post("/personal_horoscope")
async def personal(request: dict):
    # –ì–ï–ù–ï–†–ê–¢–û–† –°–õ–£–ß–ê–ô–ù–û–ì–û –ì–û–†–û–°–ö–û–ü–ê
    # –ß—Ç–æ–±—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑ –±—ã–ª –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç –∏ –Ω–µ –±—ã–ª–æ "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö"
    intro = random.choice(daily_intros)
    love = random.choice(daily_love)
    career = random.choice(daily_career)
    
    full_text = f"### üîÆ –í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø –Ω–∞ —Å–µ–≥–æ–¥–Ω—è\n\n**–û–±—â–∏–π —Ñ–æ–Ω:**\n{intro}\n\n**‚ù§Ô∏è –õ—é–±–æ–≤—å –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è:**\n{love}\n\n**üíº –ö–∞—Ä—å–µ—Ä–∞ –∏ —Ñ–∏–Ω–∞–Ω—Å—ã:**\n{career}\n\n*–°–æ–≤–µ—Ç –¥–Ω—è: –°–ª—É—à–∞–π—Ç–µ —Å–≤–æ—é –∏–Ω—Ç—É–∏—Ü–∏—é, –æ–Ω–∞ –Ω–µ –ø–æ–¥–≤–µ–¥–µ—Ç.*"
    
    return full_text

@app.post("/synastry")
async def synastry(request: dict):
    return "### ‚ù§Ô∏è –ê–Ω–∞–ª–∏–∑ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ (–°–∏–Ω–∞—Å—Ç—Ä–∏—è)\n\n**–û–±—â–µ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ:**\n–í–∞—à–∞ –ø–∞—Ä–∞ –æ–±–ª–∞–¥–∞–µ—Ç –≤—ã—Å–æ–∫–∏–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º. –í—ã –¥–æ–ø–æ–ª–Ω—è–µ—Ç–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞, —Å–æ–∑–¥–∞–≤–∞—è –±–∞–ª–∞–Ω—Å —ç–Ω–µ—Ä–≥–∏–π.\n\n**–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–≤—è–∑—å (–õ—É–Ω–∞):**\n–ú–µ–∂–¥—É –≤–∞–º–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≥–ª—É–±–æ–∫–æ–µ –ø–æ–¥—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ. –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –±–µ–∑ —Å–ª–æ–≤.\n\n**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**\n–£—á–∏—Ç–µ—Å—å —Å–ª—ã—à–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –∏ –∏—Å–∫–∞—Ç—å –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã –≤ –±—ã—Ç–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö."

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="0.0.0.0", port=10000)
